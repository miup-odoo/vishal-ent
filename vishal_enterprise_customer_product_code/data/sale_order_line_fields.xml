<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <record id="field_sale_order_line_x_customer_product_code" model="ir.model.fields">
        <field name="name">x_customer_product_code</field>
        <field name="field_description">Customer Product Code</field>
        <field name="model_id" ref="sale.model_sale_order_line"/>
        <field name="ttype">char</field>
        <field name="depends">order_id.partner_id,product_template_id</field>
        <field name="store" eval="True"/>
        <field name="required" eval="False"/>
        <field name="readonly" eval="True"/>
        <field name="compute">
for line in self:
  partner_products = line.order_id.partner_id.x_product_ids
  matching_product = partner_products.filtered(lambda p, id=line.product_template_id: p.x_product_id == id)
  if matching_product:
    line['x_customer_product_code'] = matching_product.x_customer_product_code
  else: 
    line['x_customer_product_code'] = ""
        </field>
      </record> 
</odoo>
